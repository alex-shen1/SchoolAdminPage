(this.webpackJsonpadminpage=this.webpackJsonpadminpage||[]).push([[0],{40:function(e,a,t){e.exports=t(60)},45:function(e,a,t){},46:function(e,a,t){},60:function(e,a,t){"use strict";t.r(a);var n=t(0),s=t.n(n),r=t(18),o=t.n(r),c=(t(45),t(14)),l=t(15),i=t(17),u=t(16),d=(t(46),t(47),t(25)),m=t(22),p=t(20),h=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).handleClose=function(){n.setState({modalActive:!1})},n.handleLoginButton=function(){n.props.handleLogin(n.state.username,n.state.password)},n.state={username:"admin@admin.com",password:"password"},n}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",null,s.a.createElement(m.a,{show:!this.props.validLogin,onHide:this.handleClose},s.a.createElement(m.a.Header,{closeButton:!0},s.a.createElement(m.a.Title,null,s.a.createElement("h3",null,"Log In"))),s.a.createElement(m.a.Body,null,s.a.createElement(d.a,null,s.a.createElement(d.a.Group,null,s.a.createElement(d.a.Control,{onChange:function(a){return e.setState({username:a.target.value})},id:"SearchText",className:"SearchBar",type:"textarea",placeholder:"Username"}),s.a.createElement("br",null),s.a.createElement(d.a.Control,{onChange:function(a){return e.setState({password:a.target.value})},id:"SearchText",className:"SearchBar",type:"textarea",placeholder:"Password"}))),null!=this.props.errorMSG?"ERROR: "+this.props.errorMSG:""),s.a.createElement(m.a.Footer,null,s.a.createElement(p.a,{variant:"success",onClick:this.handleLoginButton},"Log in"))))}}]),t}(n.Component),g=t(12),f=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).componentDidUpdate=function(e){if(null!=n.props.data&&n.props.data!=e.data){console.log(n.props.data);var a={};console.log(n.props.data.teachers),Object.keys(n.props.data.teachers).map((function(e){var t=n.props.data.teachers[e];Object.keys(a).includes(t.class)?a[t.class].teachers.push(t):a[t.class]={teachers:[t],students:[]}})),Object.keys(n.props.data.students).map((function(e){var t=n.props.data.students[e];a[t.class].students.push(t)})),console.log(a),n.setState({classes:a})}},n.state={classes:{}},n}return Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"classes"},Object.keys(this.state.classes).map((function(a){return s.a.createElement(g.a,null,s.a.createElement(g.a.Body,null,s.a.createElement(g.a.Title,null,a),s.a.createElement(g.a.Subtitle,{className:"mb-2 text-muted"},"Taught by: ",e.state.classes[a].teachers[0].name),s.a.createElement(g.a.Text,null,"Students: ",s.a.createElement("br",null),e.state.classes[a].students.map((function(e){return e.name})))))})))}}]),t}(n.Component),v=t(30),E=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={classes:{}},n}return Object(l.a)(t,[{key:"render",value:function(){var e=this,a=0;return s.a.createElement("div",{className:"students"},s.a.createElement(v.a,null,null!=this.props.data&&Object.keys(this.props.data.students).map((function(t){var n=e.props.data.students[t];return s.a.createElement(g.a,null,s.a.createElement(g.a.Header,null,s.a.createElement(v.a.Toggle,{as:p.a,variant:"link",eventKey:a+""},n.name)),s.a.createElement(v.a.Collapse,{eventKey:a+++""},s.a.createElement(g.a.Body,null,"GPA: ",n.GPA)))}))))}}]),t}(n.Component),b=t(29),S=t.n(b);t(54),t(56);S.a.initializeApp({apiKey:"AIzaSyBQSqeaiDALhBo0qi_Qp5whu4JvcFH7XWs",authDomain:"adminpage-b6e0e.firebaseapp.com",databaseURL:"https://adminpage-b6e0e.firebaseio.com",projectId:"adminpage-b6e0e",storageBucket:"adminpage-b6e0e.appspot.com",messagingSenderId:"777201403331",appId:"1:777201403331:web:9de614ccba431384b0e976",measurementId:"G-WBLEN57M12"});S.a.auth();var y=S.a,j={admins:[{name:"Admin Name",id:"CDZaxVJThgTf3mEMJMjuyP8IVeW2"}],teachers:[{name:"Teacher Name",class:"Class 100",id:"tz9ehdvIDmRIF2IDHpv3XcMrznw2"},{name:"Teacher Name2",class:"Class 200",id:"mZoHc5O4DTdFTMBo1Ax31Bq8PRv2"}],students:[{name:"Some Guy",firstName:"Some",lastName:"Guy",class:"Class 200",GPA:4}]},O=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).resetData=function(){n.setState({data:j},(function(){n.setData()}))},n.setData=function(){Object.keys(n.state.data).map((function(e){n.state.data[e].map((function(a){y.database().ref("data/"+e+"/"+a.id).set(a)}))}))},n.checkUserIsAdmin=function(e){Object.keys(n.state.data.admins).map((function(a){var t=n.state.data.admins[a];t.id.toString()===e.toString()&&(console.log("admin logged in found"),n.setState({isAdmin:!0,usersName:t.name}))}))},n.loadData=function(){console.log("loading"),y.database().ref("data").once("value",(function(e){e&&e.exists()&&n.setState({data:e.val()},(function(){var e=y.auth().currentUser.uid;console.log(e),n.checkUserIsAdmin(e)}))}))},n.handleLogin=function(e,a){y.auth().signInWithEmailAndPassword(e,a).then((function(){n.setState({validLogin:!0}),n.loadData()})).catch((function(e){console.log(e.message),n.setState({errorMSG:e.message.toString()})})),console.log(y.auth().currentUser)},n.state={data:null,validLogin:!1,errorMSG:null,isAdmin:!1},n}return Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"App"},"Welcome, ",this.state.usersName,s.a.createElement("div",{className:"info"},s.a.createElement(h,{handleLogin:this.handleLogin,errorMSG:this.state.errorMSG,validLogin:this.state.validLogin}),s.a.createElement(E,{data:this.state.data}),s.a.createElement(f,{data:this.state.data})),s.a.createElement(p.a,{onClick:this.resetData},"RESET DATABASE (delete later)"))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.d94ab51a.chunk.js.map